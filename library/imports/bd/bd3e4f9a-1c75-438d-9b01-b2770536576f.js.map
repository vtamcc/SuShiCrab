{"version":3,"sources":["assets/SuShiCarb/scripts/Game/ShuShiCarb.Drag.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAI5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAkC,wBAAY;IAA9C;QAAA,qEAkDC;QAjDG,mBAAa,GAAW,GAAG,CAAC;QAC5B,eAAS,GAAW,GAAG,CAAC;QACxB,aAAO,GAAY,KAAK,CAAC;;IA+C7B,CAAC;IA9CG,qBAAM,GAAN;QACI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACrF,CAAC;IAED,wBAAS,GAAT;QACI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACtF,CAAC;IAED,0BAAW,GAAX,UAAY,KAA0B;QAClC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAClF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IAED,qBAAM,GAAN,UAAO,EAAU;QACb,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;gBACnC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,GAAG,GAAG,GAAG,CAAC;gBAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,GAAG,GAAG,GAAG,CAAC;aACnE;iBAAM;gBACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;gBACtC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;aAC3E;SACJ;IACL,CAAC;IAED,+BAAgB,GAAhB,UAAiB,KAAK;QAClB,oCAAoC;QACpC,gEAAgE;QAEhE,mDAAmD;QACnD,iEAAiE;QACjE,uDAAuD;QACvD,gEAAgE;QAEhE,4DAA4D;QAC5D,yDAAyD;QACzD,oFAAoF;QACpF,gEAAgE;QAChE,QAAQ;QACR,IAAI;IAGR,CAAC;IAjDgB,IAAI;QADxB,OAAO;OACa,IAAI,CAkDxB;IAAD,WAAC;CAlDD,AAkDC,CAlDiC,EAAE,CAAC,SAAS,GAkD7C;kBAlDoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport ShuShiCarbFood from \"./ShuShiCarb.Food\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Drag extends cc.Component {\n    initialLength: number = 100;  \n    maxLength: number = 750;      \n    growing: boolean = false;\n    onLoad() {\n        cc.Canvas.instance.node.on(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n    }\n\n    onDestroy() {\n        cc.Canvas.instance.node.off(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n    }\n\n    onMouseDown(event: cc.Event.EventMouse) {\n        this.growing = true;\n        let mousePos = this.node.parent.convertToNodeSpaceAR(cc.v2(event.getLocationX()));\n        console.log(mousePos);\n        this.node.setPosition(mousePos);\n    }\n\n    update(dt: number) {\n        if (this.growing) {\n            if (this.node.height < this.maxLength) {\n                this.node.height += 200 * 0.2;\n                this.node.getComponent(cc.BoxCollider).size.height += 200 * 0.2;\n            } else {\n                this.growing = false;\n                this.node.height = this.initialLength;\n                this.node.getComponent(cc.BoxCollider).size.height = this.initialLength;\n            }\n        }\n    }\n\n    onCollisionEnter(other) {\n        // // Lấy bounding box của thanh kéo\n        // const dragBarBoundingBox = this.node.getBoundingBoxToWorld();\n\n        // // Lặp qua tất cả các món ăn để kiểm tra va chạm\n        // for (let i = 0; i < this.foodContainer.children.length; i++) {\n        //     const foodItem = this.foodContainer.children[i];\n        //     const foodBoundingBox = foodItem.getBoundingBoxToWorld();\n\n        //     if (dragBarBoundingBox.intersects(foodBoundingBox)) {\n        //         // Nếu va chạm, kéo món ăn về vị trí nhất định\n        //         foodItem.setPosition(cc.v2(100, 100));  // Ví dụ đặt về vị trí (100, 100)\n        //         break;  // Dừng lại sau khi tìm thấy va chạm đầu tiên\n        //     }\n        // }\n        \n      \n    }\n}"]}