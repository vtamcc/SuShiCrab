{"version":3,"sources":["assets\\SuShiCarb\\scripts\\Game\\ShuShiCarb.Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport ShuShiCarbGame from \"../ShuShiCarb.Game\";\r\nimport ShuShiCarbFood from \"./ShuShiCarb.Food\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ShuShiCarbPlayer extends cc.Component {\r\n\r\n    @property(sp.Skeleton)\r\n    char: sp.Skeleton = null;\r\n    @property(cc.Node)\r\n    listFood: cc.Node[] = [];\r\n    @property(cc.Node)\r\n    nchat: cc.Node = null;\r\n    @property(sp.SkeletonData)\r\n    listCharacter: sp.SkeletonData[] = [];\r\n    @property(cc.ProgressBar)\r\n    prgBarCountDown: cc.ProgressBar = null;\r\n    @property(cc.Label)\r\n    lbCountDown: cc.Label = null;\r\n    @property(cc.Node)\r\n    nTime: cc.Node = null;\r\n    duration = 10;\r\n    numberCountDown = 0;\r\n    isCountDown = false;\r\n    isMove = false;\r\n\r\n    // @property(cc.Node)\r\n    // foodItem1: cc.Node = null;\r\n    // @property(cc.Node)\r\n    // foodItem2: cc.Node = null;\r\n    // @property(cc.Node)\r\n    // foodItem3: cc.Node = null;\r\n\r\n\r\n    setData(index) {\r\n        this.char.skeletonData = this.listCharacter[index]; // listChar [0] = con ao vang\r\n    }\r\n\r\n    startCountDown() {\r\n        this.isCountDown = true;\r\n        this.numberCountDown = this.duration;\r\n        this.schedule(this.updateCountDown,1);\r\n    }\r\n\r\n    updateCountDown() {\r\n        if(this.numberCountDown > 0) {\r\n            this.numberCountDown--;\r\n            this.updateProgressBar();\r\n            this.lbCountDown.string = this.numberCountDown + '';\r\n        }else {\r\n            this.isCountDown = false;\r\n            //this.effectShow();\r\n\r\n        }\r\n    }\r\n\r\n    updateProgressBar() {\r\n        if(this.prgBarCountDown) {\r\n            this.prgBarCountDown.progress -= 0.1;\r\n        }\r\n    }\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n    // setItemFood(foodIDs: number[]) {\r\n    //     for(let i = 0; i < foodIDs.length; i++) {\r\n    //        let foodID = foodIDs[i];\r\n    //        let foodItemNode = null;\r\n    //        switch(i) {\r\n    //             case 0: \r\n    //                 foodItemNode = this.foodItem1;\r\n    //                 break;\r\n    //             case 1: \r\n    //                 foodItemNode = this.foodItem2;\r\n    //                 break;\r\n    //             case 2: \r\n    //                 foodItemNode = this.foodItem3;\r\n    //                 break;\r\n    //             default:\r\n    //                 break;\r\n    //        } \r\n\r\n    //        if(foodItemNode) {\r\n    //             foodItemNode.getComponent(cc.Sprite).spriteFrame = ShuShiCarbGame.instance.listSpfFood[foodID];\r\n    //        }\r\n    //     }\r\n\r\n        \r\n    // }\r\n    effectShow() {\r\n        this.char.animation = 'move';\r\n        this.nchat.active = false;\r\n        this.nTime.active = false;\r\n        cc.tween(this.char.node)\r\n        .to(2, {x: 0})\r\n        .call(() => {\r\n            this.char.animation = 'discomfort';\r\n            this.nchat.active = true;\r\n            this.nTime.active = true;\r\n            this.startCountDown();\r\n        })\r\n        .start()\r\n    }\r\n    start () {  \r\n        this.effectShow();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}