{"version":3,"sources":["assets/SuShiCarb/scripts/Game/ShuShiCarb.Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport ShuShiCarbGame from \"../ShuShiCarb.Game\";\nimport ShuShiCarbFood from \"./ShuShiCarb.Food\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ShuShiCarbPlayer extends cc.Component {\n\n    @property(sp.Skeleton)\n    char: sp.Skeleton = null;\n    @property(cc.Node)\n    listFood: cc.Node[] = [];\n    @property(cc.Node)\n    nchat: cc.Node = null;\n    @property(sp.SkeletonData)\n    listCharacter: sp.SkeletonData[] = [];\n    @property(cc.ProgressBar)\n    prgBarCountDown: cc.ProgressBar = null;\n    @property(cc.Label)\n    lbCountDown: cc.Label = null;\n\n    duration = 10;\n    numberCountDown = 0;\n    isCountDown = false;\n\n    isMove = false;\n    // @property(cc.Node)\n    // foodItem1: cc.Node = null;\n    // @property(cc.Node)\n    // foodItem2: cc.Node = null;\n    // @property(cc.Node)\n    // foodItem3: cc.Node = null;\n\n\n    setData(food_1,food_2,food_3, index) {\n        this.char.skeletonData = this.listCharacter[index];\n        this.listFood[0].getComponent(cc.Sprite).spriteFrame = ShuShiCarbGame.instance.listSpfFood[food_1];\n        this.listFood[1].getComponent(cc.Sprite).spriteFrame = ShuShiCarbGame.instance.listSpfFood[food_2];\n        this.listFood[2].getComponent(cc.Sprite).spriteFrame = ShuShiCarbGame.instance.listSpfFood[food_3];\n\n    }\n\n    startCountDown() {\n        this.isCountDown = true;\n        this.numberCountDown = this.duration;\n        this.schedule(this.updateCountDown,1);\n    }\n\n    updateCountDown() {\n        if(this.numberCountDown > 0) {\n            this.numberCountDown--;\n            this.updateProgressBar();\n            this.lbCountDown.string = this.numberCountDown + '';\n        }else {\n            this.isCountDown = false;\n            //this.effectShow();\n\n        }\n    }\n\n    updateProgressBar() {\n        if(this.prgBarCountDown) {\n            this.prgBarCountDown.progress -= 0.1;  \n            console.log(this.prgBarCountDown.progress);\n        }\n    }\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n    // setItemFood(foodIDs: number[]) {\n    //     for(let i = 0; i < foodIDs.length; i++) {\n    //        let foodID = foodIDs[i];\n    //        let foodItemNode = null;\n    //        switch(i) {\n    //             case 0: \n    //                 foodItemNode = this.foodItem1;\n    //                 break;\n    //             case 1: \n    //                 foodItemNode = this.foodItem2;\n    //                 break;\n    //             case 2: \n    //                 foodItemNode = this.foodItem3;\n    //                 break;\n    //             default:\n    //                 break;\n    //        } \n\n    //        if(foodItemNode) {\n    //             foodItemNode.getComponent(cc.Sprite).spriteFrame = ShuShiCarbGame.instance.listSpfFood[foodID];\n    //        }\n    //     }\n\n        \n    // }\n    effectShow() {\n        this.char.animation = 'move';\n        this.nchat.active = false;\n        cc.tween(this.char.node)\n        .to(2, {x: 0})\n        .call(() => {\n            this.char.animation = 'discomfort';\n            this.nchat.active = true;\n            this.startCountDown();\n        })\n        .start()\n    }\n    start () {  \n        this.effectShow();\n    }\n\n    // update (dt) {}\n}\n"]}