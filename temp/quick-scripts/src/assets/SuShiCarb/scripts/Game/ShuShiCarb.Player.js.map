{"version":3,"sources":["assets/SuShiCarb/scripts/Game/ShuShiCarb.Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport ShuShiCarbGame from \"../ShuShiCarb.Game\";\nimport ShuShiCarbFood from \"./ShuShiCarb.Food\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ShuShiCarbPlayer extends cc.Component {\n\n    @property(sp.Skeleton)\n    char: sp.Skeleton = null;\n    @property(cc.Node)\n    listFood: cc.Node[] = [];\n    @property(cc.Node)\n    nchat: cc.Node = null;\n    @property(sp.SkeletonData)\n    listCharacter: sp.SkeletonData[] = [];\n    @property(cc.ProgressBar)\n    prgBarCountDown: cc.ProgressBar = null;\n    @property(cc.Label)\n    lbCountDown: cc.Label = null;\n    @property(cc.Node)\n    nTime: cc.Node = null;\n    duration = 10;\n    numberCountDown = 0;\n    isCountDown = false;\n    isMove = false;\n\n    \n    // @property(cc.Node)\n    // foodItem1: cc.Node = null;\n    // @property(cc.Node)\n    // foodItem2: cc.Node = null;\n    // @property(cc.Node)\n    // foodItem3: cc.Node = null;\n\n\n    setData(index) {\n        this.char.skeletonData = this.listCharacter[index]; // listChar [0] = con ao vang\n    }\n\n    startCountDown() {\n        this.isCountDown = true;\n        this.numberCountDown = this.duration;\n        this.schedule(this.updateCountDown,1);\n    }\n\n    \n    updateCountDown() {\n        if(this.numberCountDown > 0) {\n            this.numberCountDown--;\n            this.updateProgressBar();\n            this.lbCountDown.string = this.numberCountDown + '';\n        }else {\n            this.isCountDown = false;\n            ShuShiCarbGame.instance.resetGame(false);\n            console.log(\"Thua\")\n            //this.effectShow();\n\n        }\n    }\n\n    updateProgressBar() {\n        if(this.prgBarCountDown) {\n            this.prgBarCountDown.progress -= 0.1;\n        }\n    }\n    effectShow() {\n        this.char.animation = 'move';\n        this.nchat.active = false;\n        this.nTime.active = false;\n        cc.tween(this.char.node)\n        .to(2, {x: 0})\n        .call(() => {\n            this.char.animation = 'idle';\n            this.nchat.active = true;\n            this.nTime.active = true;\n            this.startCountDown();\n        })\n        .start()\n    }\n\n    happyEffectPlayerMoveOut(callbacks: Function) {\n        // this.char.setAnimation(0,\"happy_out\",active);\n        // this.char.setAnimation(0,\"discomfort\",!active);\n        this.char.animation = \"happy\"\n        cc.tween(this.char.node)\n        .to(1.5,{x: 600})\n        .call(() => {\n            this.node.destroy();\n            callbacks();\n        }).start();\n    }\n\n    sadEffectPlayerMoveOut(callbacks: Function) {\n        // this.char.setAnimation(0,\"happy_out\",active);\n        // this.char.setAnimation(0,\"discomfort\",!active);\n        this.char.animation = \"discomfort\"\n        cc.tween(this.char.node)\n        .to(1.5,{x: 600})\n        .call(() => {\n            this.node.destroy();\n            callbacks();\n        }).start();\n    }\n\n    \n\n\n    start () {  \n        this.effectShow();\n    }\n\n    // update (dt) {}\n}\n"]}